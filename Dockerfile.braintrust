FROM python:3.11-slim

# Install required Python packages
RUN pip install --no-cache-dir \
    braintrust>=0.3.0 \
    anthropic>=0.7.0 \
    langchain-anthropic>=0.1.0 \
    requests>=2.31.0 \
    structlog>=23.2.0 \
    google-cloud-logging>=3.5.0 \
    google-cloud-storage>=2.10.0

WORKDIR /app

# Scripts will be mounted via ConfigMap at runtime
RUN mkdir -p /app/scripts /shared/braintrust

# Default entrypoint for running scripts
ENTRYPOINT ["python"]
